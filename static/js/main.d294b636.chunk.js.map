{"version":3,"sources":["Modal/Modal.module.css","SearchForm/SearchForm.module.css","Gallery/Gallery.module.css","PhotoCard/PhotoCard.module.css","services/photoCard-api.js","SearchForm/SearchForm.js","Modal/Modal.js","PhotoCard/PhotoCard.js","Gallery/Gallery.js","ErrorNotification.js","App.js","index.js","App.module.css"],"names":["module","exports","fetchPhotoCards","query","pageNumber","fetch","then","res","json","data","hits","SearchForm","state","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSearch","this","className","styles","search_form","onSubmit","type","autoComplete","placeholder","onChange","Component","MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","children","createPortal","overlay","ref","onClick","role","modal","PhotoCard","isModalOpen","openModal","closeModal","item","gallery_item","key","id","photo_card","src","webformatURL","alt","stats","stats_item","likes","views","comments","downloads","fullscreen_button","largeImageURL","Gallery","photoCards","gallery","map","photoCard","ErrorNotification","message","App","error","isLoading","photoCardAPI","catch","reset","prevProps","prevState","scrollTo","top","behavior","color","height","width","length","button","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d294b636.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2ke8e\",\"modal\":\"Modal_modal__1JpM1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__3_6s8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2Zx5-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__1m2ZP\",\"stats\":\"PhotoCard_stats__3Ffh_\",\"stats_item\":\"PhotoCard_stats_item__3hDY1\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__CytRb\",\"gallery_item\":\"PhotoCard_gallery_item__19kFw\"};","// eslint-disable-next-line import/prefer-default-export\r\nexport const fetchPhotoCards = (query = '', pageNumber = 1) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=12&key=14273310-6e0402b05c4239754eef621ef`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.hits);\r\n};\r\n","import React, { Component } from 'react';\r\nimport T from 'prop-types';\r\nimport styles from './SearchForm.module.css';\r\n\r\nexport default class SearchForm extends Component {\r\n  static propTypes = {\r\n    onSearch: T.func.isRequired,\r\n  };\r\n\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSearch(this.state.query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <form className={styles.search_form} onSubmit={this.handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Search images...\"\r\n          value={query}\r\n          onChange={this.handleChange}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport T from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    children: T.node.isRequired,\r\n    onClose: T.func.isRequired,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n      return;\r\n    }\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div\r\n        className={styles.overlay}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackdropClick}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.modal}>{children}</div>\r\n      </div>,\r\n      MODAL_ROOT,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport T from 'prop-types';\r\nimport styles from './PhotoCard.module.css';\r\nimport Modal from '../Modal/Modal';\r\n\r\nexport default class PhotoCard extends Component {\r\n  static propTypes = {\r\n    item: T.shape({\r\n      id: T.number.isRequired,\r\n      webformatURL: T.string.isRequired,\r\n      largeImageURL: T.string.isRequired,\r\n      likes: T.number.isRequired,\r\n      views: T.number.isRequired,\r\n      comments: T.number.isRequired,\r\n      downloads: T.number.isRequired,\r\n    }).isRequired,\r\n  };\r\n\r\n  state = {\r\n    isModalOpen: false,\r\n  };\r\n\r\n  openModal = () => this.setState({ isModalOpen: true });\r\n\r\n  closeModal = () => this.setState({ isModalOpen: false });\r\n\r\n  render() {\r\n    const { item } = this.props;\r\n    const { isModalOpen } = this.state;\r\n\r\n    return (\r\n      <li className={styles.gallery_item} key={item.id}>\r\n        <div className={styles.photo_card}>\r\n          <img src={item.webformatURL} alt=\"\" />\r\n          <div className={styles.stats}>\r\n            <p className={styles.stats_item}>\r\n              <i className=\"material-icons\">thumb_up</i>\r\n              {item.likes}\r\n            </p>\r\n            <p className={styles.stats_item}>\r\n              <i className=\"material-icons\">visibility</i>\r\n              {item.views}\r\n            </p>\r\n            <p className={styles.stats_item}>\r\n              <i className=\"material-icons\">comment</i>\r\n              {item.comments}\r\n            </p>\r\n            <p className={styles.stats_item}>\r\n              <i className=\"material-icons\">cloud_download</i>\r\n              {item.downloads}\r\n            </p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className={styles.fullscreen_button}\r\n            onClick={this.openModal}\r\n          >\r\n            <i className=\"material-icons\">zoom_out_map</i>\r\n          </button>\r\n          {isModalOpen && (\r\n            <Modal onClose={this.closeModal}>\r\n              <div className=\"overlay\">\r\n                <div className=\"modal\">\r\n                  <img src={item.largeImageURL} alt=\"\" />\r\n                </div>\r\n              </div>\r\n            </Modal>\r\n          )}\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport styles from './Gallery.module.css';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\n\r\nconst Gallery = ({ photoCards }) => (\r\n  <ul className={styles.gallery}>\r\n    {photoCards.map(photoCard => (\r\n      <PhotoCard item={photoCard} key={photoCard.id} />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nGallery.propTypes = {\r\n  photoCards: T.arrayOf(\r\n    T.shape({\r\n      id: T.number.isRequired,\r\n      webformatURL: T.string.isRequired,\r\n      largeImageURL: T.string.isRequired,\r\n      likes: T.number.isRequired,\r\n      views: T.number.isRequired,\r\n      comments: T.number.isRequired,\r\n      downloads: T.number.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n};\r\nexport default Gallery;\r\n","import React from 'react';\r\n\r\nconst ErrorNotification = message => <div>Error: {message}</div>;\r\n\r\nexport default ErrorNotification;\r\n","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport styles from './App.module.css';\r\nimport * as photoCardAPI from './services/photoCard-api';\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport Gallery from './Gallery/Gallery';\r\nimport ErrorNotification from './ErrorNotification';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    photoCards: [],\r\n    error: null,\r\n    pageNumber: 1,\r\n    query: '',\r\n    isLoading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, pageNumber } = this.state;\r\n    if (prevState.query !== query) {\r\n      this.fetchPhotoCards();\r\n    }\r\n    if (prevState.pageNumber !== pageNumber) {\r\n      window.scrollTo({\r\n        top: pageNumber * 1450,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  onSearch = query => {\r\n    if (this.state.query === query) {\r\n      return;\r\n    }\r\n    this.setState({ query, photoCards: [], pageNumber: 1 });\r\n  };\r\n\r\n  fetchPhotoCards = () => {\r\n    const { query, pageNumber } = this.state;\r\n    this.setState({ isLoading: true });\r\n\r\n    photoCardAPI\r\n      .fetchPhotoCards(query, pageNumber)\r\n      .then(photoCards => {\r\n        this.setState(state => ({\r\n          photoCards: [...state.photoCards, ...photoCards],\r\n          pageNumber: state.pageNumber + 1,\r\n          isLoading: false,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({\r\n      query: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { photoCards, error, isLoading } = this.state;\r\n\r\n    return (\r\n      <div className={styles.App}>\r\n        <SearchForm onSearch={this.onSearch} />\r\n        {error && <ErrorNotification message={error.message} />}\r\n        {isLoading && (\r\n          <Loader type=\"ThreeDots\" color=\"#grey\" height={80} width={80} />\r\n        )}\r\n        {photoCards.length > 0 && <Gallery photoCards={photoCards} />}\r\n        {photoCards.length > 0 && (\r\n          <button\r\n            type=\"button\"\r\n            className={styles.button}\r\n            onClick={this.fetchPhotoCards}\r\n          >\r\n            Load more\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'normalize.css';\r\nimport './index.module.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1k7nc\",\"button\":\"App_button__2CqrK\"};"],"sourceRoot":""}